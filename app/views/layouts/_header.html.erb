<header class="container-fluid cute-header">
  <div class="container">
    <div class="row align-items-start">

      <div class="col-3 d-flex justify-content-start">
        <% if admin_signed_in? %>
          <%= link_to image_tag("logo.jpg", size: "100x100"), admin_root_path %>
        <% else %>
          <%= link_to image_tag("logo.jpg", size: "100x100"), root_path %>
        <% end %>
      </div>

      <div class="col-3 d-flex justify-content-center">
        <div class="navbar-text mt-2">
          <% if user_signed_in? %>
            <% if current_user.email == 'guest@example.com' %>
              <span class="cute-status-text">ゲストユーザーログイン中</span>
            <% else %>
              <span class="cute-status-text">ユーザーログイン中</span>
            <% end %>
          <% elsif admin_signed_in? %>
            <span class="cute-status-text">管理者ログイン中</span>
          <% else %>
            <span class="cute-status-text">ログインしていません</span>
          <% end %>
        </div>
      </div>

      <div class="col-6 p-0 d-flex flex-column align-items-center">
        <div class="mb-2 ml-auto">
          <ul class="nav">
            <% if admin_signed_in? %>
              <li class="nav-item">
                <%= link_to 'ユーザー一覧', admin_users_path, class: 'cute-nav-btn mx-1 text-decoration-none' %>
              </li>
              <li class="nav-item">
                <%= link_to '投稿一覧', admin_posts_path, class: 'cute-nav-btn mx-1 text-decoration-none' %>
              </li>
              <li class="nav-item">
                <%= link_to '管理者ログアウト', destroy_admin_session_path, method: :delete, class: 'cute-nav-btn mx-1 text-decoration-none' %>
              </li>
            <% elsif user_signed_in? %>
              <li class="nav-item">
                <%= link_to 'マイページ', mypage_path, class: 'cute-nav-btn mx-1 text-decoration-none' %>
              </li>
              <li class="nav-item">
                <%= link_to '投稿する', new_post_path, class: 'cute-nav-btn mx-1 text-decoration-none', data: {"turbolinks" => false} %>
              </li>
              <li class="nav-item">
                <%= link_to 'みんなの投稿', posts_path, class: 'cute-nav-btn mx-1 text-decoration-none' %>
              </li>
              <li class="nav-item">
                <%= link_to 'ログアウト', destroy_user_session_path, method: :delete, class: 'cute-nav-btn mx-1 text-decoration-none' %>
              </li>
            <% else %>
              <li class="nav-item">
                <%= link_to 'ログイン', new_user_session_path, class: 'cute-nav-btn mx-1 text-decoration-none' %>
              </li>
              <li class="nav-item">
                <%= link_to '新規ユーザー登録', new_user_registration_path, class: 'cute-nav-btn mx-1 text-decoration-none' %>
              </li>
              <li class="nav-item">
                <%= link_to 'ゲストログイン', public_guest_sign_in_path, method: :post, class: 'cute-nav-btn mx-1 text-decoration-none' %>
              </li>
            <% end %>
          </ul>
        </div>
      </div>

      <div class="align-self-center w-100 d-flex justify-content-center">
        <%= render 'public/searches/form' %>
      </div>
    </div>
  </div>
</header>